openapi: 3.0.3
info:
  title: Academic Management API
  description: 'API for managing users, roles, students, teachers, courses, schedules, attendance, activities, notices, and reports. Generated from provided SRS and ER diagram. Assumes JWT Bearer authentication, ISO 8601 timestamps, and camelCase property naming.'
  version: 1.0.0
  contact:
    name: API Support
    email: support@example.com

servers:
  - url: http://localhost:3000/
    description: Local Server
  - url: https://api.example.com/v1
    description: Primary server
tags:
  - name: Authentication
    description: Login and password operations
  - name: Users
    description: User management and profiles
  - name: Semesters
    description: Semester management
  - name: Students
    description: Student records and enrollment
  - name: Teachers
    description: Teacher records
  - name: TeachersAttendance
    description: Teacher Attendance records
  - name: Courses
    description: Courses and course details
  - name: CourseSchedules
    description: Course scheduling
  - name: Room
    description: Room
  - name: Attendance
    description: Attendance records
  - name: Activities
    description: Activities and logs
  - name: Notices
    description: Notices and attachments
  - name: Reports
    description: Reports generation
  - name: Fees
    description: Fee management
  - name: PaymentApi
    description: Payment operations
  - name: Conversations
    description: Chat conversations
  - name: Messages
    description: Messages in conversations
  - name: Participants
    description: Conversation participants
security:
  - bearerAuth: []
paths:
  /auth/me:
    get:
      tags: [Authentication]
      summary: Get current user data
      security:
        - bearerAuth: []
      responses:
        '200':
          description: user objects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /auth/profile:
    get:
      tags: [Authentication]
      summary: Get current user profile
      security:
        - bearerAuth: []
      responses:
        '200':
          description: user profile objects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /auth/roles:
    get:
      tags: [Authentication]
      summary: List users roles
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Array of user roles objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RoleData'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /user:
    get:
      tags: [Users]
      summary: List users
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of user objects
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: string
                  limit:
                    type: string
                  offset:
                    type: string
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/UserData'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Users]
      summary: Create user
      description: Register a new user
      security:
        - bearerAuth: []

      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserDTO'
            example:
              email: alice@example.com
              password: P@ssw0rd!
              fullName: Alice Roberts
              designation: student
              role: ''
      responses:
        '201':
          description: User created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserData'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /user/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Users]
      summary: Get user by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserData'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Users]
      summary: Update user
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdateDTO'
            example:
              fullName: Alice R.
              title: Prof.
      responses:
        '202':
          description: User updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserData'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Users]
      summary: Delete user
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /student:
    get:
      tags: [Students]
      summary: List students
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of students
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Student'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Students]
      summary: Create student record
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StudentCreateDTO'
            example:
              email: 'student01@school.edu'
              fullName: 'John Doe'
              designation: 'STUDENT'
              password: 'P@ssw0rd!'
              enrolmentDate: '2024-01-10T00:00:00.000Z'
              status: 'ACTIVE'
              session: '2024-2025'
              graduationYear: 2028
              currentSemesterId: '5e4b9e56-1ec3-4a1a-a1f8-81e7e9a8b2fa'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /student/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Students]
      summary: Get student
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Student record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags: [Students]
      summary: Update student
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StudentUpdateDTO'
            example:
              fullName: 'John Doe'
              enrolmentDate: '2024-01-10T00:00:00.000Z'
              status: 'GRADUATED'
              session: '2024-2025'
              graduationYear: 2028
              currentSemesterId: '5e4b9e56-1ec3-4a1a-a1f8-81e7e9a8b2fa'
      responses:
        '202':
          description: Student's updated data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Students]
      summary: Delete user
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /teacher:
    get:
      tags: [Teachers]
      summary: List teachers
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of teachers
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Teacher'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Teachers]
      summary: Create teacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherCreateDTO'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Teacher'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /teacher/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Teachers]
      summary: Get single teacher
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Student record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Teacher'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags: [Teachers]
      summary: Update teacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherUpdateDTO'
            example:
              status: graduated
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Teachers]
      summary: Delete teacher
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /teacher/{teacherId}/unavailability:
    parameters:
      - name: teacherId
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Teachers]
      summary: List teachers
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of teachers
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/TeacherUnavailability'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Teachers]
      summary: Create teacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherUnavailabilityCreateDto'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherUnavailability'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /teacher/{teacherId}/unavailability/{id}:
    parameters:
      - name: teacherId
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Teachers]
      summary: Get single teacher
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Student record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherUnavailability'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags: [Teachers]
      summary: Update teacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherUnavailabilityUpdateDto'
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherUnavailability'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Teachers]
      summary: Delete teacher
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /teacher/{teacherId}/attendance:
    parameters:
      - name: teacherId
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [TeachersAttendance]
      summary: List teachers attendance
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of teachers
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/TeacherAttendance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [TeachersAttendance]
      summary: Create teacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherAttendanceCreateDto'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherAttendance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /teacher/{teacherId}/attendance/{id}:
    parameters:
      - name: teacherId
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [TeachersAttendance]
      summary: Get single teacher
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Student record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherAttendance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags: [TeachersAttendance]
      summary: Update teacher
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TeacherAttendanceUpdateDto'
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeacherAttendance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [TeachersAttendance]
      summary: Delete teacher
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /semester:
    get:
      tags: [Semesters]
      summary: List semesters
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Array of semesters
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Semester'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Semesters]
      summary: Create semester
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SemesterCreateDTO'
            example:
              name: Fall-2023
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Semester'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /semester/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string

    get:
      tags: [Semesters]
      summary: Get single semester
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Student record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Semester'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Semesters]
      summary: Update semester
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseCreateDTO'
            example:
              status: graduated
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Student'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Semesters]
      summary: Delete semester
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /course:
    get:
      tags: [Courses]
      summary: List courses
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of courses
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Courses'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Courses]
      summary: Create course
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseCreateDTO'
            example:
              semesterId: a1593306-7fd2-453b-a34c-79c165a9380b
              code: CS101
              name: Introduction to Computer Science
              description: Basic concepts of computing
              credits: 3
      responses:
        '201':
          description: New created course
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Courses'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /course/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Courses]
      summary: Get course
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Course
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Courses'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Courses]
      summary: Update course
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseUpdateDTO'
            example:
              semesterId: a1593306-7fd2-453b-a34c-79c165a9380b
              code: CS101
              name: Introduction to Computer Science
              description: Basic concepts of computing
              credits: 3
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Courses'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Courses]
      summary: Delete course
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /course-generate:
    post:
      tags: [Courses]
      summary: Generate course with ai
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseGenerateDTO'
              credits: 3
      responses:
        '201':
          description: New created course
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Courses'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /course/{courseId}/schedule:
    parameters:
      - name: courseId
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [CourseSchedules]
      summary: Get schedules for a course
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of schedules
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/CourseSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [CourseSchedules]
      summary: Create course schedule
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseScheduleCreateDTO'

      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /course/{courseId}/schedule/{id}:
    parameters:
      - name: courseId
        in: path
        required: true
        schema:
          type: string
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [CourseSchedules]
      summary: Get single schedules
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Array of schedules
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [CourseSchedules]
      summary: Create course schedule
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseScheduleUpdateDTO'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [CourseSchedules]
      summary: Create course schedule
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /room:
    get:
      tags: [Room]
      summary: List rooms
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Array of courses
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Room'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Room]
      summary: Create room
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoomCreateDto'

      responses:
        '201':
          description: New created room
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Room'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /room/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Room]
      summary: Get room
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Room
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Room'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Room]
      summary: Update room
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoomUpdateDto'
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Courses'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Room]
      summary: Delete room
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /attendance:
    get:
      tags: [Attendance]
      summary: List attendance records
      security:
        - bearerAuth: []
      parameters:
        - in: query
          name: studentId
          schema:
            type: string
          description: Filter by student id
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'

      responses:
        '200':
          description: Array of attendance records
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/AttendanceRecord'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Attendance]
      summary: Create attendance record
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttendanceCreateDTO'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AttendanceRecord'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /attendance/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
    get:
      tags: [Attendance]
      summary: Get attendance
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Attendance record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AttendanceRecord'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags: [Attendance]
      summary: Update attendance
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AttendanceUpdateDTO'
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AttendanceRecord'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Attendance]
      summary: Delete attendance
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /activity:
    get:
      tags: [Activities]
      summary: List activities
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of activities
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Activity'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Activities]
      summary: Create activity
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivityCreateDTO'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /activity/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string

    get:
      tags: [Activities]
      summary: Get single activity
      security:
        - bearerAuth: []
      responses:
        '200':
          description: activity record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Activities]
      summary: Update activity
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivityUpdateDTO'
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Activities]
      summary: Delete activity
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /notice:
    get:
      tags: [Notices]
      summary: List notices
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of notices
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Notice'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Notices]
      summary: Create notice
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NoticeCreateDTO'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notice'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /notice/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string

    get:
      tags: [Notices]
      summary: Get single notice
      security:
        - bearerAuth: []
      responses:
        '200':
          description: notice record
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notice'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Notices]
      summary: Update notice
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NoticeUpdateDTO'
      responses:
        '202':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notice'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Notices]
      summary: Delete notice
      security:
        - bearerAuth: []
      responses:
        '204':
          description: Deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /report:
    get:
      tags: [Reports]
      summary: List reports
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
      responses:
        '200':
          description: Array of reports
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                    default: 1
                  limit:
                    type: number
                    default: 10
                  offset:
                    type: number
                    default: 0
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Report'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      tags: [Reports]
      summary: Generate report
      description: Request generation of a report
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportCreateDTO'
      responses:
        '201':
          description: Report created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /fee:
    get:
      tags: [Fees]
      summary: List all fees
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
        - name: studentId
          in: query
          description: Filter by Student ID
          schema:
            type: string
            format: uuid
        - name: semesterId
          in: query
          description: Filter by Semester ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: List of fees
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Fee'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      tags: [Fees]
      summary: Create a new fee
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateFeeDto'
      responses:
        '201':
          description: Fee created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fee'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /fee/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags: [Fees]
      summary: Get fee by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Fee details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fee'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [Fees]
      summary: Update fee
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateFeeDto'
      responses:
        '200':
          description: Fee updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Fee'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Fees]
      summary: Delete fee
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Fee deleted
        '404':
          $ref: '#/components/responses/NotFound'

  /payment-api:
    get:
      tags: [PaymentApi]
      summary: List payments
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/OffsetParam'
        - name: feesId
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: List of payments
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: number
                  limit:
                    type: number
                  offset:
                    type: number
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Payment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags: [PaymentApi]
      summary: Create payment
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentApiDto'
      responses:
        '201':
          description: Payment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /payment-api/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags: [PaymentApi]
      summary: Update payment
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePaymentApiDto'
      responses:
        '200':
          description: Payment updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [PaymentApi]
      summary: Delete payment
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Payment deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /conversation:
    post:
      tags: [Conversations]
      summary: Create a P2P conversation
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateConversationDto'
      responses:
        '201':
          description: Conversation created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
    get:
      tags: [Conversations]
      summary: List conversations for current user
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of conversations
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Conversation'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /conversation/group:
    post:
      tags: [Conversations]
      summary: Create a Group conversation
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGroupConversationDto'
      responses:
        '201':
          description: Group conversation created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /conversation/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags: [Conversations]
      summary: Get conversation by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Conversation details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
    patch:
      tags: [Conversations]
      summary: Update conversation
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateConversationDto'
      responses:
        '200':
          description: Conversation updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Conversations]
      summary: Delete conversation
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Conversation deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

  /conversations/{conversationId}/messages:
    parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags: [Messages]
      summary: Send a message
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMessageDto'
      responses:
        '201':
          description: Message sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
    get:
      tags: [Messages]
      summary: List messages in conversation
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of messages
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Message'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /conversations/{conversationId}/messages/{id}:
    parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags: [Messages]
      summary: Update message
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMessageDto'
      responses:
        '200':
          description: Message updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Messages]
      summary: Delete message
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Message deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

  /conversations/{conversationId}/members:
    parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags: [Participants]
      summary: Add participant
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateParticipantDto'
      responses:
        '201':
          description: Participant added
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Participant'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
    get:
      tags: [Participants]
      summary: List participants
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of participants
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Participant'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /conversations/{conversationId}/members/{id}:
    parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags: [Participants]
      summary: Update participant
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateParticipantDto'
      responses:
        '200':
          description: Participant updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Participant'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Participants]
      summary: Remove participant
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Participant removed
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    MeResponse:
      type: object
      properties:
        app_name/roles:
          type: array
          items:
            type: string
          description: Custom claim containing assigned roles.
        iss:
          type: string
          description: Issuer identifier for the JWT.
          example: https://domain.com/
        sub:
          type: string
          description: Unique subject (user) identifier.
          example: auth0|6915a0beed*******
        aud:
          type: array
          items:
            type: string
          description: Audience values for which this token is intended.
        iat:
          type: integer
          format: int64
          description: Issued-at timestamp (Unix).
        exp:
          type: integer
          format: int64
          description: Expiration timestamp (Unix).
        scope:
          type: string
          description: OAuth scopes included in the token.
        azp:
          type: string
          description: Authorized party (client ID).
        permissions:
          type: array
          description: Permissions assigned to the user.
          items:
            type: string
    DesignationEnum:
      type: string
      enum:
        - ADMIN
        - MANAGER
        - EMPLOYEE
        - INTERN
    # Auth Schemas
    AuthLoginRequest:
      type: object
      required: [username, password]
      properties:
        username:
          type: string
        password:
          type: string
    AuthTokens:
      type: object
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
    # Roles
    RoleData:
      type: object
      properties:
        id:
          type: string
        role:
          type: string
        name:
          type: string
      required: [id, role]
    RoleDTO:
      type: object
      properties:
        role:
          type: string
        name:
          type: string
      required: [role]
    RoleUpdateDTO:
      type: object
      properties:
        role:
          type: string
        name:
          type: string
    # Users
    UserData:
      type: object
      properties:
        id:
          type: string
        email:
          type: string
          format: email
        fullName:
          type: string
        auth0_role:
          type: string
        auth0_user_id:
          type: string
        designation:
          $ref: '#/components/schemas/DesignationEnum'
        created_at:
          type: string
        updatedAt:
          type: string
      required: [id, email, username]
    UserDTO:
      type: object
      required: [email, password, designation, fullName]
      properties:
        email:
          type: string
          format: email
        password:
          type: string
        username:
          type: string
        fullName:
          type: string
        designation:
          $ref: '#/components/schemas/DesignationEnum'
        role:
          type: string
    UserUpdateDTO:
      $ref: '#/components/schemas/UserDTO'
    # Student
    Student:
      type: object
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        enrolmentDate:
          type: string
          format: date
        status:
          type: string
          default: 'ACTIVE'
        session:
          type: string
          default: 2021-22
        graduationYear:
          type: integer
          default: 2026
        currentSemesterId:
          type: string
          format: uuid

      required:
        - id
        - userId
        - status
        - session
        - currentSemesterId
    StudentCreateDTO:
      type: object
      required:
        - email
        - password
        - fullName
        - session
        - designation
        - enrolmentDate
        - currentSemesterId
      properties:
        email:
          type: string
          format: email
        fullName:
          type: string
        password:
          type: string
          minLength: 6
        enrolmentDate:
          type: string
          format: date-time
        status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
            - SUSPENDED
            - GRADUATED
          nullable: true
        session:
          type: string
          nullable: true
        graduationYear:
          type: integer
          format: int32
          nullable: true
        currentSemesterId:
          type: string
          format: uuid
          description: Current Semester Id must be valid!
    StudentUpdateDTO:
      type: object
      required:
        - fullName
        - enrolmentDate
        - currentSemesterId
      properties:
        fullName:
          type: string
        enrolmentDate:
          type: string
          format: date-time
        status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
            - SUSPENDED
            - GRADUATED
            # Add all values from StudentStatus enum
          nullable: true
        session:
          type: string
          nullable: true
        graduationYear:
          type: integer
          format: int32
          nullable: true
        currentSemesterId:
          type: string
          format: uuid
          description: Current Semester Id must be valid!
    # Teacher
    Teacher:
      type: object
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        designation:
          allOf:
            - $ref: '#/components/schemas/DesignationEnum'
            - default: 'junior_instructor'
        joinDate:
          type: string
          format: date
        officeLocation:
          type: string
          default: COM-201
      required: [id, userId]
    TeacherCreateDTO:
      type: object
      required:
        - email
        - fullName
        - password
        - designation
        - joinDate
        - officeLocation
      properties:
        email:
          type: string
          format: email
          default: John.doe.1@gmail.com
        fullName:
          type: string
          default: John Doe
        password:
          type: string
          minLength: 6
          default: P@ssw0rd!
        designation:
          allOf:
            - $ref: '#/components/schemas/DesignationEnum'
            - default: junior_instructor
        joinDate:
          type: string
          format: date
        officeLocation:
          type: string
          default: COM-201
    TeacherUpdateDTO:
      type: object
      properties:
        fullName:
          type: string
          default: John Doe
        designation:
          allOf:
            - $ref: '#/components/schemas/DesignationEnum'
            - default: junior_instructor
        joinDate:
          type: string
          format: date
        officeLocation:
          type: string
          default: COM-201
    # Teacher Unavailability
    TeacherUnavailability:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The unique identifier of the unavailability record.
          example: 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11'
        teacherId:
          type: string
          format: uuid
          description: The UUID of the teacher associated with this record.
          example: '550e8400-e29b-41d4-a716-446655440000'
        startDatetime:
          type: string
          format: date-time
          description: The start timestamp of the unavailability (ISO 8601).
          example: '2023-12-01T09:00:00.000Z'
        endDatetime:
          type: string
          format: date-time
          description: The end timestamp of the unavailability (ISO 8601).
          example: '2023-12-01T17:00:00.000Z'
        reason:
          type: string
          description: The reason for the unavailability.
          maxLength: 255
          nullable: true
          example: 'Doctor Appointment'
        isApproved:
          type: boolean
          description: Indicates if the unavailability request is approved.
          default: true
          example: true
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the record was created.
          example: '2023-11-30T10:00:00.000Z'
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the record was last updated.
          example: '2023-11-30T12:00:00.000Z'
    TeacherUnavailabilityCreateDto:
      type: object
      required:
        - startDatetime
        - endDatetime
      properties:
        startDatetime:
          type: string
          format: date-time
          description: The start date and time of the unavailability.
          example: '2023-12-01T09:00:00Z'
        endDatetime:
          type: string
          format: date-time
          description: The end date and time of the unavailability.
          example: '2023-12-01T17:00:00Z'
        reason:
          type: string
          description: Optional reason provided for the unavailability.
          maxLength: 255
          example: 'Family emergency'
        isApproved:
          type: boolean
          description: Optional flag to set approval status on creation.
          default: true
          example: true
    TeacherUnavailabilityUpdateDto:
      type: object
      properties:
        startDatetime:
          type: string
          format: date-time
          description: The start date and time of the unavailability.
          example: '2023-12-01T09:00:00Z'
        endDatetime:
          type: string
          format: date-time
          description: The end date and time of the unavailability.
          example: '2023-12-01T17:00:00Z'
        reason:
          type: string
          description: Optional reason provided for the unavailability.
          maxLength: 255
          example: 'Family emergency'
        isApproved:
          type: boolean
          description: Optional flag to set approval status on creation.
          default: true
          example: true
    # Teacher Attendance
    TeacherAttendance:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The unique identifier of the unavailability record.
          example: 'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11'
        teacherId:
          type: string
          format: uuid
          description: The UUID of the teacher associated with this record.
          example: '550e8400-e29b-41d4-a716-446655440000'
        dateTime:
          type: string
          format: date-time
          description: The start timestamp of the unavailability (ISO 8601).
          example: '2023-12-01T09:00:00.000Z'
        status:
          type: string
          default: PRESENT
        recordedById:
          type: string
          format: uuid
          description: The UUID of the recoded system.
          example: '550e8400-e29b-41d4-a716-446655440000'
        notes:
          type: string
          description: The notes.
          maxLength: 255
          nullable: true
          example: 'Doctor Appointment'
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the record was created.
          example: '2023-11-30T10:00:00.000Z'
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the record was last updated.
          example: '2023-11-30T12:00:00.000Z'
    TeacherAttendanceCreateDto:
      type: object
      properties:
        notes:
          type: string
          description: The notes.
          maxLength: 255
          nullable: true
          example: 'Doctor Appointment'
    TeacherAttendanceUpdateDto:
      type: object
      properties:
        notes:
          type: string
          description: The notes.
          maxLength: 255
          nullable: true
          example: 'Doctor Appointment'
    # Semester
    Semester:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
      required: [id, name]
    SemesterCreateDTO:
      type: object
      required: [name]
      properties:
        name:
          type: string
    # Courses
    Courses:
      type: object
      properties:
        id:
          type: string
          format: uuid
        semesterId:
          type: string
          format: uuid
        code:
          type: string
          default: 2999
        name:
          type: string
          default: Introduction to Computer Science
        description:
          type: string
          description: Basic concepts of computing
        credits:
          type: integer
          format: int32
          default: 3
      required: [id, code, name]
    CourseCreateDTO:
      type: object
      required: [code, name, credits, semesterId]
      properties:
        semesterId:
          type: integer
        code:
          type: string
        name:
          type: string
        description:
          type: string
        credits:
          type: integer
    CourseUpdateDTO:
      type: object
      properties:
        semesterId:
          type: string
          format: uuid
        code:
          type: string
        name:
          type: string
        description:
          type: string
        credits:
          type: integer

    # course generate
    CourseGenerateDTO:
      type: object
      required:
        - ids
        - start
        - end
      properties:
        semesterIds:
          type: array
          items:
            type: string
            format: uuid
          description: List of semester IDs to process
        semesterStart:
          type: string
          format: date-time
          example: '2023-01-01T00:00:00Z'
          description: Start date in ISO 8601 format
        semesterEnd:
          type: string
          format: date-time
          example: '2023-01-31T23:59:59Z'
          description: End date in ISO 8601 format
    # Course Schedule
    CourseSchedule:
      type: object
      properties:
        id:
          type: string
          format: uuid
        courseId:
          type: string
          format: uuid
        dayOfWeek:
          type: string
          default: MONDAY
        startTime:
          type: string
          format: date
          description: time in HH:MM:SS
        endTime:
          type: string
          format: date
          description: time in HH:MM:SS
        room:
          type: string
          default: COM-201
        teacherId:
          type: string
          format: uuid
      required:
        - id
        - courseId
        - dayOfWeek
        - startTime
        - endTime
        - room
    CourseScheduleCreateDTO:
      type: object
      required:
        - courseId
        - dayOfWeek
        - startTime
        - endTime
        - room
      properties:
        courseId:
          type: string
          format: uuid
        dayOfWeek:
          type: string
          default: MONDAY
        startTime:
          type: string
          format: date
          description: time in HH:MM:SS
        endTime:
          type: string
          format: date
          description: time in HH:MM:SS
        room:
          type: string
          default: COM-201
        teacherId:
          type: string
          format: uuid
    CourseScheduleUpdateDTO:
      type: object
      properties:
        courseId:
          type: string
          format: uuid
        dayOfWeek:
          type: string
          default: MONDAY
        startTime:
          type: string
          format: date
          description: time in HH:MM:SS
        endTime:
          type: string
          format: date
          description: time in HH:MM:SS
        room:
          type: string
          default: COM-201
        teacherId:
          type: string
          format: uuid
    # room
    RoomType:
      type: string
      enum: [office, classroom, lab, washroom]
      description: The category/type of the room.

    Room:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: '550e8400-e29b-41d4-a716-446655440000'
        name:
          type: string
          example: 'Advanced Robotics Lab'
        location:
          type: string
          example: 'Building B, 3rd Floor'
        type:
          $ref: '#/components/schemas/RoomType'
        capacity:
          type: integer
          minimum: 1
          example: 30
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - name
        - location
        - type
        - capacity

    RoomCreateDto:
      type: object
      required:
        - name
        - location
        - type
        - capacity
      properties:
        name:
          type: string
          minLength: 1
          example: 'Office 101'
        location:
          type: string
          example: 'Main Campus, Block A'
        type:
          $ref: '#/components/schemas/RoomType'
        capacity:
          type: integer
          minimum: 1
          example: 5

    RoomUpdateDto:
      type: object
      description: Partial update object for Room. All fields are optional.
      properties:
        name:
          type: string
        location:
          type: string
        type:
          $ref: '#/components/schemas/RoomType'
        capacity:
          type: integer
          minimum: 1
    # Attendance
    AttendanceRecord:
      type: object
      properties:
        id:
          type: string
          format: uuid
        studentId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        status:
          type: string
          default: PRESENT
        checkInTime:
          type: string
          default: 10:00
        checkOutTime:
          type: string
          default: 10:30
        notes:
          type: string
          default: Note goes here
        courseId:
          type: string
          format: uuid
        recordedBy:
          type: string
          format: uuid
    AttendanceCreateDTO:
      type: object
      required: [studentId, date, courseId]
      properties:
        studentId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        status:
          type: string
          default: PRESENT
        checkInTime:
          type: string
          default: 10:00
        checkOutTime:
          type: string
          default: 10:30
        notes:
          type: string
          default: Everything good
        courseScheduleId:
          type: string
          format: uuid
    AttendanceUpdateDTO:
      type: object
      properties:
        status:
          type: string
          default: PRESENT
        checkInTime:
          type: string
          default: 10:00
        checkOutTime:
          type: string
          default: 10:30
        notes:
          type: string
          default: Everything good
    # Activities
    Activity:
      type: object
      properties:
        id:
          type: string
          format: uuid
        activityType:
          type: string
          default: Notice board
        description:
          type: string
          default: description
        relatedEntityType:
          type: string
          default: entity type
        relatedEntityId:
          type: string
          format: uuid
        leadId:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date
        updatedAt:
          type: string
          format: date
      required: [id, activityType]
    ActivityCreateDTO:
      type: object
      required: [activityType]
      properties:
        activityType:
          type: string
          default: meeting
        description:
          type: string
          default: description
        relatedEntityType:
          type: string
          default: entity type
        relatedEntityId:
          type: string
          format: uuid
        leadId:
          type: string
          format: uuid
    ActivityUpdateDTO:
      type: object
      required: [activityType]
      properties:
        activityType:
          type: string
          default: meeting
        description:
          type: string
          default: description
        relatedEntityType:
          type: string
          default: entity type
        relatedEntityId:
          type: string
          format: uuid
        leadId:
          type: string
          format: uuid

    # Notices
    Notice:
      type: object
      properties:
        id:
          type: string
          format: uuid
        createdById:
          type: string
          format: uuid
        text:
          type: string
          default: Back to class
        attachment:
          type: string
          default: https://images.pexels.com/photos/32802440/pexels-photo-32802440.jpeg
          nullable: true
      required: [id, createdBy, text]
    NoticeCreateDTO:
      type: object
      required: [text]
      properties:
        text:
          type: string
          default: Back to class
        attachment:
          type: string
          nullable: true
    NoticeUpdateDTO:
      type: object
      properties:
        text:
          type: string
        attachment:
          type: string
          nullable: true
    # Reports
    ReportTypeEnum:
      type: string
      description: Defines the specific category or type of the report being generated or requested.
      enum:
        - ANALYTICS
        - PERFORMANCE
        - ACTIVITY
        - SALES
        - FINANCIAL
        - USER
        - SYSTEM
        - ERROR
        - EXPORT
        - CUSTOM
    Report:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
          default: December 2025 Attendance Report
        description:
          type: string
          default: December 2025 Attendance Report
        type:
          $ref: '#/components/schemas/ReportTypeEnum'
        generatedAt:
          type: string
          format: date-time
        filePath:
          type: string
          default: https://www.pexels.com/photo/charming-rustic-house-in-provence-france-32802440/
        parameters:
          type: string
          default: '{
            \"courseId\":\"course-1\",
            \"from\":\"2024-01-01\",
            \"to\":\"2024-06-30\",
            }'
        generatedById:
          type: string
          format: uuid

    ReportCreateDTO:
      type: object
      required: [title, type]
      properties:
        title:
          type: string
          default: December 2025 Attendance Report
        description:
          type: string
          default: December 2025 Attendance Report
        type:
          $ref: '#/components/schemas/ReportTypeEnum'
        parameters:
          type: string
          default: ''
    FeeType:
      type: string
      enum:
        [registration, session, certificates, exam_recall, admission, others]
    FeeStatus:
      type: string
      enum: [pending, progress, paid, failed, hold, declined, deleted]
    Fee:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/FeeType'
        notes:
          type: string
          nullable: true
        total:
          type: integer
        charge:
          type: integer
          default: 0
          nullable: true
        sub_total:
          type: integer
        studentId:
          type: string
          format: uuid
        session:
          type: string
        semesterId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/FeeStatus'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    CreateFeeDto:
      type: object
      required: [total, sub_total, studentId, semesterId]
      properties:
        type:
          $ref: '#/components/schemas/FeeType'
        notes:
          type: string
        total:
          type: integer
        charge:
          type: integer
        sub_total:
          type: integer
        studentId:
          type: string
          format: uuid
        semesterId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/FeeStatus'
    UpdateFeeDto:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/FeeType'
        notes:
          type: string
        total:
          type: integer
        charge:
          type: integer
        sub_total:
          type: integer
        studentId:
          type: string
          format: uuid
        semesterId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/FeeStatus'

    PaymentStatus:
      type: string
      enum:
        - pending
        - progress
        - successfull
        - failed
    Payment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        feesId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/PaymentStatus'
        extra:
          type: string
        notes:
          type: string
        transactionId:
          type: string
        provider:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    CreatePaymentApiDto:
      type: object
      required:
        - feesId
        - provider
      properties:
        feesId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/PaymentStatus'
        extra:
          type: string
        notes:
          type: string
        provider:
          type: string
    UpdatePaymentApiDto:
      type: object
      properties:
        feesId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/PaymentStatus'
        extra:
          type: string
        notes:
          type: string
        provider:
          type: string
    # Chat Schemas
    ConversationType:
      type: string
      enum:
        - P2P
        - GROUP
    ParticipantRole:
      type: string
      enum:
        - ADMIN
        - MEMBER

    Conversation:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/ConversationType'
        name:
          type: string
          nullable: true
        isRestricted:
          type: boolean
        createdAt:
          type: string
          format: date-time
        participants:
          type: array
          items:
            $ref: '#/components/schemas/Participant'
      required: [id, type, createdAt]

    CreateConversationDto:
      type: object
      properties:
        isRestricted:
          type: boolean
        memberId:
          type: string
          format: uuid
        name:
          type: string
      required: [memberId]

    CreateGroupConversationDto:
      type: object
      properties:
        isRestricted:
          type: boolean
          default: false
        members:
          type: array
          items:
            type: string
            format: uuid
        name:
          type: string
      required: [members, name]

    UpdateConversationDto:
      type: object
      properties:
        isRestricted:
          type: boolean
        memberId:
          type: string
          format: uuid
        name:
          type: string

    Message:
      type: object
      properties:
        id:
          type: string
          format: uuid
        content:
          type: string
        senderId:
          type: string
          format: uuid
        conversationId:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
      required: [id, content, senderId, conversationId, createdAt]

    CreateMessageDto:
      type: object
      properties:
        content:
          type: string
        senderId:
          type: string
          format: uuid
        conversationId:
          type: string
          format: uuid
      required: [content, senderId, conversationId]

    UpdateMessageDto:
      type: object
      properties:
        content:
          type: string

    Participant:
      type: object
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        conversationId:
          type: string
          format: uuid
        role:
          $ref: '#/components/schemas/ParticipantRole'
        lastReadAt:
          type: string
          format: date-time
          nullable: true
      required: [id, userId, conversationId, role]

    CreateParticipantDto:
      type: object
      properties:
        userId:
          type: string
          format: uuid
        conversationId:
          type: string
          format: uuid
        role:
          $ref: '#/components/schemas/ParticipantRole'
      required: [userId, conversationId]

    UpdateParticipantDto:
      type: object
      properties:
        role:
          $ref: '#/components/schemas/ParticipantRole'
  examples: {}
  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          example:
            code: 400
            message: Bad Request
            fields:
              - field: field1
                values:
                  - field1 cannot be empty.
                  - field1 cannot be empty.

              - field: field2
                values:
                  - field2 must be at least 8 characters long.
                  - field2 must be at least 8 characters long.
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          example:
            code: 401
            statusCode: Unauthorized

    Forbidden:
      description: Forbidden
      content:
        application/json:
          example:
            statusCode: 403
            message: Forbidden resource
            error: Forbidden
    NotFound:
      description: Not Found
      content:
        application/json:
          example:
            statusCode: 404
            message: 'Not found!'
            error: 'Not found!'
    InternalServerError:
      description: Internal Server Error
      content:
        application/json:
          example:
            statusCode: 404
            message: 'Internal Server Error'
            error: 'Internal Server Error'
  parameters:
    LimitParam:
      name: limit
      in: query
      description: Number of items to return
      required: false
      schema:
        type: integer
        minimum: 0
        default: 10

    OffsetParam:
      name: offset
      in: query
      description: Number of items to skip
      required: false
      schema:
        type: integer
        minimum: 0
        default: 0
